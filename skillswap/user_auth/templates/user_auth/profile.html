
{% extends 'base.html' %}
{% load static %}
{% block content %}
  <div class="container py-4">
  <div class="card shadow-lg p-4">
    <div class="d-flex flex-column flex-md-row align-items-center">
    {% if user.userdetail.profile_pic %}
        <img src="{{user.userdetail.profile_pic.url }}" alt="Profile photo" width="150" />
    {% else %}
        <p>🧑‍🎓</p>
    {% endif %}    
     <div>
        <h3>{{ user.username }}</h3>
        <p><strong>Email:</strong> {{ user.email }}</p>
        <p class="text-muted">{{ user.userdetail.description }}</p>
        <p><strong>Location:</strong> {{ user.profile.location }}</p>
        <p><strong>Available:</strong> {{ user.profile.availability }}</p>
        <a href="{% url 'profile_edit' %}" class="btn btn-secondary">Edit Profile</a>
      </div>
    </div>

    <hr>

    <div class="row">
      <div class="col-md-6">
        <h5 class="text-success">Skills Offered</h5>
        <ul>
            <li>{{ user.userdetail.skills_offered }}</li>
        </ul>
      </div>
      <div class="col-md-6">
        <h5 class="text-primary">Skills Wanted</h5>
        <ul>
            <li>{{ user.userdetail.skills_needed }}</li>
          
        </ul>
      </div>
    </div>

    <hr>

    <h5 class="mt-4">⭐ Reviews</h5>
    {% for review in user.reviews_received.all %}
      <div class="border rounded p-3 mb-2">
        <strong>{{ review.reviewer.username }}</strong> 
        - <span class="text-warning">{{ review.rating }} ★</span><br>
        <p class="mb-0">{{ review.comment }}</p>
      </div>
    {% empty %}
      <p>No reviews yet.</p>
    {% endfor %}
  </div>
</div>

{% endblock %}

